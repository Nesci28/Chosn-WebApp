{"remainingRequest":"/home/nos/Webapp/client/node_modules/thread-loader/dist/cjs.js!/home/nos/Webapp/client/node_modules/babel-loader/lib/index.js!/home/nos/Webapp/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nos/Webapp/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nos/Webapp/client/src/views/EditSystem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nos/Webapp/client/src/views/EditSystem.vue","mtime":1556476063985},{"path":"/home/nos/Webapp/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/home/nos/Webapp/client/node_modules/@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport Monaco from 'monaco-editor-forvue';\nexport default {\n  name: 'App',\n  data: function data() {\n    return {\n      urlGet: '',\n      urlAdd: '',\n      id: 0,\n      json: 'null',\n      res: {\n        json: {},\n        info: {},\n        section: ''\n      },\n      loading: true,\n      deleteCard: false,\n      confirmText: '',\n      deleteRig: '',\n      fakeAccount: true\n    };\n  },\n  components: {\n    Monaco: Monaco\n  },\n  methods: {\n    onMounted: function onMounted(editor) {\n      this.editor = editor;\n    },\n    defaults: function () {\n      var _defaults = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(step) {\n        var _this = this;\n\n        var configs;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$store.state.json.filter(function (ele) {\n                  return ele[\"Hostname\"] == _this.id;\n                })[0][\"System Config\"];\n\n              case 2:\n                configs = _context.sent;\n\n                if (step == 'saved') {\n                  configs.Serial = configs.Serial + 1;\n                }\n\n                this.json = JSON.stringify(configs, undefined, 4);\n                this.editor.setValue(this.json);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function defaults(_x) {\n        return _defaults.apply(this, arguments);\n      }\n\n      return defaults;\n    }(),\n    save: function () {\n      var _save = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        var configs, i;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.deleteCard = !this.deleteCard;\n                console.log(\"Saved!\");\n                this.res.json = JSON.parse(this.editor.getValue());\n                this.res.json.Serial = this.res.json.Serial + 1;\n                configs = this.$store.state.json.filter(function (ele) {\n                  return ele[\"Hostname\"] == _this2.id;\n                })[0];\n                this.res.info.Username = configs.Username;\n                this.res.info.Hostname = configs.Hostname;\n                this.res.section = 'System Config'; // console.log(JSON.stringify(this.res))\n\n                _context2.next = 10;\n                return axios.post(this.urlAdd, this.res);\n\n              case 10:\n                for (i = 0; i < this.$store.state.json.length; i++) {\n                  if (this.$store.state.json[i].Hostname == this.id) {\n                    this.$store.state.json[i][this.res.section] = this.res.json;\n                  }\n                }\n\n                this.defaults('saved');\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function save() {\n        return _save.apply(this, arguments);\n      }\n\n      return save;\n    }()\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    if (window.location.href.includes('localhost')) {\n      this.urlLogin = \"http://localhost:5000/action/login\";\n      this.urlGet = \"http://localhost:5000/db\";\n      this.urlAdd = \"http://localhost:5000/rig/add\";\n    } else if (window.location.href.includes('192.168')) {\n      this.urlLogin = \"http://192.168.0.127:5000/action/login\";\n      this.urlGet = \"http://192.168.0.127:5000/db\";\n      this.urlAdd = \"http://192.168.0.127:5000/rig/add\";\n    } else {\n      this.urlLogin = \"https://nos-server.now.sh/action/login\";\n      this.urlGet = \"https://nos-server.now.sh/db\";\n      this.urlAdd = \"https://nos-server.now.sh/rig/add\";\n    }\n\n    this.$nextTick(function () {\n      window.addEventListener('resize', function () {\n        _this3.editor.layout();\n      });\n    });\n    this.loading = true;\n    axios.get(this.urlLogin).then(function (res) {\n      console.log(res.data);\n      _this3.loading = false;\n      if (res.data == \"not logged in!\") _this3.$router.push('/');else {\n        _this3.id = _this3.$route.params.id;\n        _this3.fakeAccount = res.data.fakeAccount;\n\n        _this3.defaults();\n      }\n    });\n  }\n};",{"version":3,"sources":["EditSystem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <div class=\"background pa-5\">\n      <v-progress-circular\n        :size=\"140\"\n        :width=\"14\"\n        v-if=\"loading\"\n        indeterminate\n        color=\"rgb(240, 226, 150)\"\n        class=\"middle\"\n      ></v-progress-circular>\n      <Monaco\n        class=\"editor\"\n        language=\"json\"\n        :code=\"json\"\n        @mounted=\"onMounted\"\n        >\n      </Monaco>\n      <v-btn :class=\"{'disable-events': fakeAccount}\" color=\"success\" @click=\"deleteCard = !deleteCard\">Save</v-btn>\n      <v-btn color=\"warning\" to=\"/Rigs\">Cancel</v-btn>\n\n      <v-flex xs16 sm16 md6 lg6>\n        <v-dialog v-model=\"deleteCard\" width=\"75%\">\n          <v-card class=\"infoCard rounded-card\">\n            <v-card-title class=\"green--text headline lighten-2 cardTitle\" primary-title>\n            Confirm this new configuration ?\n            </v-card-title>\n            <v-text-field\n                class=\"confirmBox pr-5 pl-5 pt-5\"\n                color=\"white\"\n                label=\"Write 'CONFIRM' to confirm\"\n                v-model=\"confirmText\"\n                outline\n              ></v-text-field>\n              <v-btn @click=\"save\" v-if=\"confirmText == 'CONFIRM'\" color=\"warning\" class=\"deleteBtn\">Confirm</v-btn>\n          </v-card>      \n        </v-dialog>\n      </v-flex>\n\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Monaco from 'monaco-editor-forvue';\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      urlGet: '',\n      urlAdd: '',\n      id: 0,\n      json: 'null',\n      res: {\n        json: {},\n        info: {},\n        section: ''\n      },\n      loading: true,\n      deleteCard: false,\n      confirmText: '',\n      deleteRig: '',\n      fakeAccount: true\n    }\n  },\n  components: {\n    Monaco\n  },\n  methods: {\n    onMounted(editor) {\n      this.editor = editor;\n    },\n    async defaults(step) {\n      let configs = await this.$store.state.json.filter(ele => ele[\"Hostname\"] == this.id)[0][\"System Config\"]\n      if (step == 'saved') {\n        configs.Serial = configs.Serial + 1\n      }\n      this.json = JSON.stringify(configs, undefined, 4)\n      this.editor.setValue(this.json)\n    },\n    async save() {\n      this.deleteCard = !this.deleteCard\n      console.log(\"Saved!\")\n      this.res.json = JSON.parse(this.editor.getValue())\n      this.res.json.Serial = this.res.json.Serial + 1\n      let configs = this.$store.state.json.filter(ele => ele[\"Hostname\"] == this.id)[0]\n      this.res.info.Username = configs.Username\n      this.res.info.Hostname = configs.Hostname\n      this.res.section = 'System Config'\n\n      // console.log(JSON.stringify(this.res))\n      await axios.post(this.urlAdd, this.res)\n      for (let i = 0; i < this.$store.state.json.length; i++) {\n        if (this.$store.state.json[i].Hostname == this.id) {\n          this.$store.state.json[i][this.res.section] = this.res.json\n        }\n      }\n      this.defaults('saved')      \n    }\n  },\n  mounted() {\n    if (window.location.href.includes('localhost')) {\n      this.urlLogin = \"http://localhost:5000/action/login\"\n      this.urlGet = \"http://localhost:5000/db\"\n      this.urlAdd = \"http://localhost:5000/rig/add\"\n    } else if (window.location.href.includes('192.168')) {\n      this.urlLogin = \"http://192.168.0.127:5000/action/login\"\n      this.urlGet = \"http://192.168.0.127:5000/db\"\n      this.urlAdd = \"http://192.168.0.127:5000/rig/add\"\n    } else {\n      this.urlLogin = \"https://nos-server.now.sh/action/login\"\n      this.urlGet = \"https://nos-server.now.sh/db\"\n      this.urlAdd = \"https://nos-server.now.sh/rig/add\"\n    }\n    \n    this.$nextTick(() => {\n      window.addEventListener('resize', () => {\n        this.editor.layout()\n      });\n    })\n\n    this.loading = true\n    axios.get(this.urlLogin)\n      .then(res => {\n        console.log(res.data)\n        this.loading = false\n        if (res.data == \"not logged in!\") this.$router.push('/')\n        else {\n          this.id = this.$route.params.id;\n          this.fakeAccount = res.data.fakeAccount\n          this.defaults()\n        }\n    })\n  }\n};\n</script>\n\n<style scoped>\n.editor {\n  width: 100%;\n  height: 75%;\n  max-height: 75%;\n}\n.centerText{\n  text-align: center;\n  text-decoration: underline;\n}\n.infoCard {\n  margin-left: auto;\n  margin-right: auto;\n}\n.rounded-card {\n  background-color: rgb(46, 46, 46);\n  border-radius:30px;\n}\n</style>\n\n"],"sourceRoot":"src/views"}]}