{"remainingRequest":"/home/nos/Webapp/client/node_modules/thread-loader/dist/cjs.js!/home/nos/Webapp/client/node_modules/babel-loader/lib/index.js!/home/nos/Webapp/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nos/Webapp/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nos/Webapp/client/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nos/Webapp/client/src/views/Login.vue","mtime":1556240582985},{"path":"/home/nos/Webapp/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nos/Webapp/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/home/nos/Webapp/client/node_modules/@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar axios = require('axios');\n\naxios.defaults.withCredentials = true;\nexport default {\n  name: 'App',\n  data: function data() {\n    return {\n      urlGet: '',\n      loggedIn: false,\n      user: {\n        login: \"\",\n        password: \"\"\n      },\n      resData: ''\n    };\n  },\n  methods: {\n    checkLogin: function () {\n      var _checkLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, dbEntry;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(this.urlGet);\n\n              case 2:\n                res = _context.sent;\n                this.resData = res.data;\n\n                if (!(res.data == 'not logged in!')) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 7;\n                return axios.post(this.urlGet, {\n                  username: this.user.login,\n                  password: this.user.password\n                });\n\n              case 7:\n                dbEntry = _context.sent;\n\n                if (dbEntry.data.isAuthenticated) {\n                  this.$router.push('/rigs');\n                  window.location.reload();\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function checkLogin() {\n        return _checkLogin.apply(this, arguments);\n      }\n\n      return checkLogin;\n    }()\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    window.addEventListener('keyup', function (event) {\n      if (event.keyCode === 13) {\n        _this.checkLogin();\n      }\n    });\n  },\n  created: function created() {\n    var _this2 = this;\n\n    if (window.location.href.includes('localhost')) {\n      this.urlGet = \"http://localhost:5000/action/login\";\n    } else if (window.location.href.includes('192.168')) {\n      this.urlGet = \"http://192.168.0.127:5000/action/login/\";\n    } else {\n      this.urlGet = 'https://nos-server.now.sh/action/login/';\n    }\n\n    axios.get(this.urlGet).then(function (res) {\n      if (res.data.isAuthenticated) _this2.$router.push('/rigs');\n    });\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,KAAA,CAAA,QAAA,CAAA,eAAA,GAAA,IAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAHA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,UADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,CAAA,KAAA,MAAA,CAFA;;AAAA;AAEA,gBAAA,GAFA;AAGA,qBAAA,OAAA,GAAA,GAAA,CAAA,IAAA;;AAHA,sBAIA,GAAA,CAAA,IAAA,IAAA,gBAJA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAKA,KAAA,CAAA,IAAA,CAAA,KAAA,MAAA,EAAA;AACA,kBAAA,QAAA,EAAA,KAAA,IAAA,CAAA,KADA;AAEA,kBAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAFA,iBAAA,CALA;;AAAA;AAKA,gBAAA,OALA;;AASA,oBAAA,OAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAbA;AA8BA,EAAA,OA9BA,qBA8BA;AAAA;;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,KAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA;AACA;AACA,KAJA;AAKA,GApCA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,WAAA,CAAA,EAAA;AACA,WAAA,MAAA,GAAA,oCAAA;AACA,KAFA,MAEA,IAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,WAAA,MAAA,GAAA,yCAAA;AACA,KAFA,MAEA;AACA,WAAA,MAAA,GAAA,yCAAA;AACA;;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,KAAA,MAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,eAAA,EAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAHA;AAIA;AAjDA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <div class=\"background\"></div>\n      <v-form v-on:submit=\"checkLogin\" class=\"login-box box pa-5\">\n        <h1>Login</h1>\n\n        <div class=\"textbox\">\n          <v-icon color=\"white\">account_box</v-icon>\n          <input type=\"text\" placeholder=\"Email address\" v-model=\"user.login\">\n        </div>\n\n        <div class=\"textbox\">\n          <v-icon color=\"white\">lock</v-icon>\n          <input type=\"password\" placeholder=\"Password\" v-model=\"user.password\">\n        </div>\n\n        <v-btn flat @click=\"checkLogin\" color=\"#F0E296\" class=\"btn\">Sign in</v-btn>\n        <h3 class=\"white--text pt-2\"><v-icon color=\"#F0E296\" medium>info</v-icon> Use the login information from SystemConfig.json</h3>\n      </v-form>\n  </v-app>\n</template>\n\n<script>\nconst axios = require('axios');\naxios.defaults.withCredentials = true\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      urlGet: '',\n      loggedIn: false,\n      user: {\n        login: \"\",\n        password: \"\",\n      },\n      resData: ''\n    }\n  },\n  methods: {\n    async checkLogin() {\n      let res = await axios.get(this.urlGet)\n      this.resData = res.data\n      if (res.data == 'not logged in!') {\n          let dbEntry = await axios.post(this.urlGet, {\n            username: this.user.login,\n            password: this.user.password\n          })\n          if (dbEntry.data.isAuthenticated) {\n            this.$router.push('/rigs')\n            window.location.reload()\n          }\n        \n      }\n    }\n  },\n  mounted() {\n    window.addEventListener('keyup', event => {\n      if (event.keyCode === 13) { \n        this.checkLogin()\n      }\n    })\n  },\n  created() {\n    if (window.location.href.includes('localhost')) {\n      this.urlGet = \"http://localhost:5000/action/login\"\n    } else if (window.location.href.includes('192.168')) {\n      this.urlGet = \"http://192.168.0.127:5000/action/login/\"\n    } else {\n      this.urlGet = 'https://nos-server.now.sh/action/login/'\n    }\n    axios.get(this.urlGet)\n      .then(res => {\n        if (res.data.isAuthenticated) this.$router.push('/rigs')\n      })\n  }\n};\n</script>\n\n<style scope>\n.box{\n  margin-top: 5%;\n  width: 90%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  border: 5px solid white;\n  background: rgba(0,0,0,0.75);\n  z-index: 1;\n}\n.login-box{\n  vertical-align: middle;\n  color: white;\n}\n.login-box h1{\n  float: left;\n  font-size: 40px;\n  border-bottom: 6px solid rgb(240, 226, 150);\n  margin-bottom: 50px;\n  padding: 13px 0;\n}\n.textbox{\n  width: 100%;\n  overflow: hidden;\n  font-size: 20px;\n  padding: 8px 0;\n  margin: 8px 0;\n  border-bottom: 1px solid white;\n}\n.textbox i{\n  width: 26px;\n  float: left;\n  text-align: center;\n}\n.textbox input{\n  border: none;\n  outline: none;\n  background: none;\n  color: white;\n  font-size: 18px;\n  width: 50%;\n  float: left;\n  margin: 0 10px;\n}\n.btn{\n  width: 100%;\n  background: none;\n  border: 3px solid rgb(240, 226, 150);\n  color: rgb(240, 226, 150);\n  padding: 5px;\n  font-size: 30px;\n  margin: 12px 0;\n  height: 20%;\n}\n</style>\n\n"],"sourceRoot":"src/views"}]}